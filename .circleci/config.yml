version: 2.1
orbs:
  docker: circleci/docker@2.2.0
executors:
  docker-publisher:
  environment:
  IMAGE_TAG: wilsonlimdocker90/education-space:latest
  docker:
    - image: docker:stable
   auth:
   username: $DOCKERHUB_USERNAME
   password: $DOCKERHUB_PASSWORD
jobs:
 build:
   executor: docker-publisher
 steps: 
 — checkout
 — setup_remote_docker
 — run: 
   name: Publish Docker Image to Docker Hub
   command: |
   echo “$DOCKERHUB_PASSWORD” | docker login -u “$DOCKERHUB_USERNAME” — password-stdin
   docker build -t $IMAGE_NAME .
   docker push $IMAGE_NAME:latest
workflows:
 version: 2
 build-master:
 jobs:
 — publishLatestToHub
